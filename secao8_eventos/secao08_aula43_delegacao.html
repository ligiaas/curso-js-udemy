<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Objetos Nativos do JS</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1>Delegação de eventos</h1>
		<p>Técnica que consiste em atrelar o evento a um elemento mais alto e verificar quem foi o elemento clicado.</p>
		<div id="d1" style="background: #ffcccc;padding: 25px;">
			Texto dentro da div.
			<span id="d1span" style="background: #ccffff;">Texto dentro do span.</span>
		</div>
	</div>
	<div class="container">
		<h1>Delegação de eventos</h1>
		<ul>
			<li>lista 1</li>
			<li>lista 2</li>
			<li>lista 3</li>
		</ul>
	</div>
	<script>

		var $d1 = document.querySelector('#d1');
		var $d1Span = document.querySelector('#d1 span');

		$d1.addEventListener('click', function(e){
			console.log('click no $d1');
			e.stopPropagation(); // para a propagação do evento
		});

		// Obs: quando vc passa um parâmetro dentro da função atrelada do evento, essa função se torna o objeto do evento e traz várias informações do evento.
		document.addEventListener('click', function(e){
			console.log('clicou no document');
			console.log(e.currentTarget); // currentTarget é o elemento a qual foi atrelado o evento, nesse caso o document.
			console.log(this); // this é sempre o dono do evento.
			console.log(e.target); // target é quem disparou o evento
		})

		$d1Span.addEventListener('click', function(){
			console.log('click no $d1Span');
		});

		var $ul = document.querySelector('ul');
		var $lis = document.querySelectorAll('li');

		// var x = 0;
		// while($lis[x]){
		// 	$lis[x].addEventListener('click', function(e){
		// 		e.stopPropagation();
		// 		console.log('clicou na li');
		// 	})
		// 	x++;
		// }

		$ul.addEventListener('click', function(e){
			e.stopPropagation();
			console.log(this);
			console.log(e.currentTarget);
			console.log(e.target);

			console.log(e.target.nodeName);
			if(e.target.nodeName === "LI") {
				console.log('clicou na LI');
			}
		})



	</script>
</body>
</html>