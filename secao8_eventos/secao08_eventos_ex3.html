<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Curso Javascript Completo 2018</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1>Contagem de caracteres</h1>
		<h2>Problema</h2>
		<p>Num textarea com um número máximo do caracteres permitidos, mostrar numa span o número de caracteres restantes e indicar pro usuário quando restam apenas 10 caracteres.</p>
		<textarea name="" id="msg" cols="30" rows="10" maxlength="10"></textarea>
		<div id="carCont" style="display: none;">
			<p>Restam <span id="resta"></span> caracteres</p>
		</div>
	</div>
	<script>
		(function() {
			'use strict';
			var $txtMsg = document.getElementById('msg');
			var $carCont = document.getElementById('carCont');
			var $resta = document.getElementById('resta');
			var maxima = $txtMsg.maxLength;

			$carCont.style.display = 'block';
			$resta.textContent = maxima;

			$txtMsg.addEventListener('input', checkLength);

			function checkLength(e){
				var caracterDigitado = this.value.length;
				$resta.textContent = maxima - caracterDigitado;
			}
		})()
	</script>
</body>
</html>






